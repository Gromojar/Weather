<!DOCTYPE html>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<link rel="stylesheet" href="styles.css">
<script>
var temp;
var cloud;
var cloud_description;
var mydata;
var request = new XMLHttpRequest()
var request2 = new XMLHttpRequest();

request.open('GET', 'https://api.openweathermap.org/data/2.5/weather?q=Krakow,pl&units=metric&mode=json&APPID=606103aa99b1bf025d1b02ff40ca516e', true)

request.onload = function () {
}
request.send()
function show()
  {
mydata = JSON.parse(request.response);
    //console.log(mydata.main.temp);
    temp = mydata.main.temp;
    cloud = mydata.weather[0].main;
    cloud_description = mydata.weather[0].description;
    console.log(temp);
    console.log(cloud);
    console.log(cloud_description);
    document.getElementById("cont").innerHTML = "In Kraków there are " + temp + "°C." + " There are " + cloud_description;
    if(temp > 20)
    {
      var imgsunny = "'images/Hot.png'";
      var imgsunnycloudy = "'images/Hotwithclouds.png'";

      if(cloud_description == "clear sky")
         {
      document.getElementById("cont").innerHTML += "<br><br> So hot outside!";
      document.getElementById("cont").innerHTML += "<img class='align-self-center mr-3' src=" + imgsunny + ">";
         }
      if(cloud_description == "few clouds")
         {
      document.getElementById("cont").innerHTML += "<br><br> So hot outside, but with some clouds";
      document.getElementById("cont").innerHTML += "<img class='align-self-center mr-3' src=" + imgsunnycloudy + ">";

      request2.open('GET', 'api.giphy.com/v1/gifs/search&q=sunny');

      request2.setRequestHeader('api_key', 'A1RvKIagTgv0e02pLft03AxVIcDE5H8S');  
           
         }
      
    }
  }
</script>
<html>
<head>
<title>Weather App</title>
</head>
<body>
<div id="cont" class="container">

<p class="text-justify">This shows the weather
  <button type="button" class="btn btn-info" onclick="show()">Show weather</button>
  </p>
  </div>
  <div class="align-self-center mr-3" id="img">
    <img class="align-self-center mr-3"></img>
  </div>
</body>
</html>
